<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Test Suite</title>
        <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.11.1.css">
    </head>
    <body>
        <div id="fixture-no-infinite-loop">
            <div class="sortedm2m-container">
                <ul class="sortedm2m-items">
                </ul>
            </div>
        </div>
        <div id="qunit"></div>
        <script src="https://code.jquery.com/jquery-3.5.1.js"
                integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
                crossorigin="anonymous">
        </script>
        <script src="../sortedm2m/static/sortedm2m/jquery-ui.js"></script>
        <script src="../sortedm2m/static/sortedm2m/widget.js"></script>

        <script src="https://code.jquery.com/qunit/qunit-2.11.1.js"></script>
        <script>
         QUnit.module('add', function() {
             QUnit.test('Should not loop indefinitly', function(assert) {
	         assert.equal(
		     $('.sortedm2m-container').find('input[type=hidden]').length,
		     1,
		     'hidden input have been inserted, initialization done'
	         );
             });
         });
        </script>
    </body>
</html>
